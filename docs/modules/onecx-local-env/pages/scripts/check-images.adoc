ifdef::env-site[]
include::partial$_attributes.adoc[]
endif::[]
:imagesdir: ../../images

= Check local Docker images

The *check-images.sh* script is used to list local Docker images with version information. It can be run from the root directory of the *onecx-local-env* repository.

.Command to list all Docker images (without any filter).
[source,bash]
----
./check-images.sh
----

.List of local Docker images
image::scripts/script_check-images.sh.png[]


[TIP]
====
The local Docker images can easily be updated using the script xref:./update-images.adoc[update-images.sh].
====


== Available Flags
The script accepts several optional flags to customize its behavior. The available flags are:

-f::
Image filter, see https://docs.docker.com/reference/cli/docker/image/ls/#filter

-h::
Displays help information about the script and its available flags. If used then all other options are ignored.

-n <text>::
Name filter, find images which have <text> into image name


== Examples

=== List images with onecx in name

[source,bash]
----
./check-images.sh   -n onecx
----

.List of local OneCX Docker images
image::scripts/script_check-images.sh_filter-onecx.png[]


=== List images marked as dangling
Candidates for deletion

[source,bash]
----
./check-images.sh   -f "dangling=true"
----


== Understanding the Listing

=== OneCX Version Labelling
When building OneCX images, the version is set in the label *samo.project.version*. The value of this label is displayed in the listing as *VERSION*.


=== Outdated Images
Over time, local Docker images become outdated. Especially after updates, images with the tag "<none>" may be listed.

.List of outdated Docker images
image::scripts/script_check-images.sh_none-images.png[]

Such images can be removed. The script xref:./update-images.adoc[update-images.sh] can be used or native with


[source,bash]
----
docker image rm <image-id>
----
