ifdef::env-site[]
include::partial$_attributes.adoc[]
endif::[]
:page-hide-next:
:imagesdir: ../images

= Troubleshooting Common Errors

This page provides information for how to troubleshoot common problems and errors.


== Status Code "000" on Imports
The issue occurs when the script xref:scripts/import.adoc[`import-onecx.sh`] is executed (importing OneCX data)

.Status code 000 on Imports
image::issues/status-code-000-import-onecx.sh.png[]

.Solution icon:lightbulb-o[yellow]
* Check if the hosts files is up-to-date. See xref:setup.adoc#hosts[Setup hosts] instructions.


== Status Code "401" on Starting
The problem occurs after logging into OneCX, although the start and import itself were successful.

.Status code 401 on Starting
image::issues/status-code-401-start-onecx.sh.png[]

.Solution icon:lightbulb-o[yellow]
* Stop the services with cleanup (remove volumes)
* Start again


== Failed Services on Start up
The problem occurs when some services cannot be started successfully even after several attempts and timeouts.

.Message: Failed Services on Start up
image::issues/incomplete-onecx-start.png[]

.Solution icon:lightbulb-o[yellow]
* Start again


== Missing Menu in Browser
The problem occurs sometimes after succesful starting the services

.Message: Missing Menu in Browser
image::issues/missing-menu-on-start.png[]

.Solution icon:lightbulb-o[yellow]
* Remove Browser Cache & Cookies
* Refresh browser


== Bad gateway in Browser
The problem occurs sometimes after succesful starting the services

.Message: Bad gateway in Browser
image::issues/bad-gateway-on-mfe-start.png[]

.Solution icon:lightbulb-o[yellow]
* Start again
* Refresh browser


== Failed to set up Networking
The problem occurs when during start up there are collisions between Docker networks. +
`Error response from daemon: failed to set up container networking`


.Message: Failed to set up container networking
image::issues/docker-deamon_failed-to-setup-container-networking.png[]

.Solution icon:lightbulb-o[yellow]
* Remove all Docker networks with
+
[source,bash]
----
docker network prune
----
+
* Start again


== Cannot successful pull
The issue occurs if the repository is updated with `git pull` (get latest version of onecx-local-env)

.Message: Untracked local files on pulling
image::issues/untracked-files-on-pull.sh.png[]

.The directory init_data/traefik/active was created by root
image::issues/traefik-active_created-by-root.sh.png[width=400]

.Solution icon:lightbulb-o[yellow]
* Remove the active directory of Traefik manually by execution of
** `sudo rm -rf init_data/traefik/active`
* Reset the local repo (all other changes will be lost)
** `git reset --hard origin/main`
